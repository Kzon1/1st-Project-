{"ast":null,"code":"var _jsxFileName = \"D:\\\\Projects\\\\E_Car\\\\client\\\\src\\\\pages\\\\ListUser.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect } from 'react';\nimport { Table } from 'antd';\nimport AdminMenu from '../components/AdminMenu';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getAllUsers } from '../redux/user/userSlice';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst columns = [{\n  title: 'STT',\n  dataIndex: 'key'\n}, {\n  title: 'Name',\n  dataIndex: 'name',\n  defaultSortOrder: \"descend\",\n  sorter: (a, b) => a.name.length - b.name.length\n}, {\n  title: 'email',\n  dataIndex: 'email'\n}, {\n  title: 'Mobile',\n  dataIndex: 'mobile'\n}, {\n  title: 'Address',\n  dataIndex: 'address'\n}, {\n  title: 'Action',\n  dataIndex: 'action'\n}];\nconst ListUsers = () => {\n  _s();\n  const dispatch = useDispatch();\n  const [open, setOpen] = useState(false);\n  const [userId, setUserId] = useState(\"\");\n  const showModal = e => {\n    setOpen(true);\n    setBlogId(e);\n  };\n  const hideModal = () => {\n    setOpen(false);\n  };\n  useEffect(() => {\n    dispatch(getAllUsers()); // gọi tới slice -> gọi tới service\n  }, []);\n  const deleteUser = e => {\n    dispatch(deleteABlog(e));\n    setOpen(false);\n    setTimeout(() => {\n      dispatch(getBlog());\n    }, 100);\n  };\n  const data1 = [];\n  const customerState = useSelector(state => state.auth.allUser); // lấy từ redux \n  for (let i = 0; i < customerState.length; i++) {\n    if (customerState[i].role !== \"admin\") {\n      data1.push({\n        key: i + 1,\n        name: customerState[i].name,\n        email: customerState[i].email,\n        mobile: customerState[i].mobile,\n        address: customerState[i].address,\n        action: /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: `/admin/add-blog/${customerState[i]._id}`,\n            children: /*#__PURE__*/_jsxDEV(FaEdit, {\n              className: \"fs-5 text-secondary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 70\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"bg-transparent border-0\",\n            onClick: () => {\n              showModal(customerState[i]._id);\n            },\n            children: /*#__PURE__*/_jsxDEV(MdDelete, {\n              className: \"ms-3 fs-5 text-danger\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 76,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true)\n      });\n    }\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container-fluid p-3\",\n    style: {\n      minHeight: \"90vh\"\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-3\",\n        children: /*#__PURE__*/_jsxDEV(AdminMenu, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-9\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-center\",\n          children: \"List Users\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"\",\n          children: /*#__PURE__*/_jsxDEV(Table, {\n            columns: columns,\n            dataSource: data1\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(CustomModel, {\n          hideModal: hideModal,\n          open: open,\n          performAction: () => {\n            deleteUser(userId);\n          },\n          title: \"Are you sure you want to delete this blog ?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 84,\n    columnNumber: 13\n  }, this);\n};\n_s(ListUsers, \"VfAPwHAzpMXqrLbfD1PNgEMaii8=\", false, function () {\n  return [useDispatch, useSelector];\n});\n_c = ListUsers;\nexport default ListUsers;\nvar _c;\n$RefreshReg$(_c, \"ListUsers\");","map":{"version":3,"names":["React","useEffect","Table","AdminMenu","useDispatch","useSelector","getAllUsers","jsxDEV","_jsxDEV","Fragment","_Fragment","columns","title","dataIndex","defaultSortOrder","sorter","a","b","name","length","ListUsers","_s","dispatch","open","setOpen","useState","userId","setUserId","showModal","e","setBlogId","hideModal","deleteUser","deleteABlog","setTimeout","getBlog","data1","customerState","state","auth","allUser","i","role","push","key","email","mobile","address","action","children","Link","to","_id","FaEdit","className","fileName","_jsxFileName","lineNumber","columnNumber","onClick","MdDelete","style","minHeight","dataSource","CustomModel","performAction","_c","$RefreshReg$"],"sources":["D:/Projects/E_Car/client/src/pages/ListUser.jsx"],"sourcesContent":["import React, { useEffect } from 'react'\r\nimport {  Table } from 'antd';\r\nimport AdminMenu from '../components/AdminMenu';\r\nimport {useDispatch, useSelector} from 'react-redux'\r\nimport { getAllUsers } from '../redux/user/userSlice';\r\n\r\nconst columns = [\r\n  {\r\n    title: 'STT',\r\n    dataIndex: 'key',\r\n  },\r\n  {\r\n    title: 'Name',\r\n    dataIndex: 'name',\r\n    defaultSortOrder:\"descend\",\r\n    sorter :(a,b)=>a.name.length - b.name.length\r\n  },\r\n  {\r\n    title: 'email',\r\n    dataIndex: 'email',\r\n  },\r\n  {\r\n    title: 'Mobile',\r\n    dataIndex: 'mobile',\r\n  },\r\n  {\r\n    title: 'Address',\r\n    dataIndex: 'address',\r\n  },\r\n  {\r\n    title: 'Action',\r\n    dataIndex: 'action',\r\n  },\r\n];\r\n\r\nconst ListUsers = () => {\r\n    const dispatch = useDispatch()\r\n    const [open, setOpen] = useState(false);\r\n    const [userId, setUserId] = useState(\"\");\r\n    const showModal = (e) => {\r\n        setOpen(true);\r\n        setBlogId(e)\r\n    };\r\n    const hideModal = () => {\r\n        setOpen(false);\r\n    };\r\n    useEffect(()=>{\r\n      dispatch(getAllUsers()) // gọi tới slice -> gọi tới service\r\n    },[])\r\n    const deleteUser =(e)=>{\r\n    dispatch(deleteABlog(e));\r\n    setOpen(false);\r\n    setTimeout(() => {\r\n      dispatch(getBlog());\r\n    }, 100);\r\n  }\r\n    const data1=[]\r\n    const customerState = useSelector(state=>state.auth.allUser) // lấy từ redux \r\n    for (let i = 0; i < customerState.length; i++) {\r\n      if(customerState[i].role !==\"admin\"){\r\n        data1.push({\r\n            key: i+1,\r\n            name: customerState[i].name,\r\n            email: customerState[i].email,\r\n            mobile: customerState[i].mobile,\r\n            address: customerState[i].address,\r\n            action: (\r\n              <>\r\n                <Link to={`/admin/add-blog/${customerState[i]._id}`}><FaEdit className='fs-5 text-secondary'/></Link>\r\n                <button \r\n                  className='bg-transparent border-0'\r\n                  onClick={()=>{\r\n                    showModal(customerState[i]._id)\r\n                  }}\r\n                  >\r\n                  <MdDelete className='ms-3 fs-5 text-danger'/>\r\n                </button>\r\n              </>\r\n            )\r\n        });\r\n      }\r\n    }\r\n    return (\r\n            <div className='container-fluid p-3' style={{minHeight:\"90vh\"}}>\r\n                <div className='row'>\r\n                    <div className='col-md-3'>\r\n                        <AdminMenu/>\r\n                    </div>\r\n                    <div className='col-md-9'>\r\n                        <h1 className='text-center'>\r\n                            List Users\r\n                        </h1>\r\n                        <div className=\"\">\r\n                            <Table  columns={columns} dataSource={data1} />\r\n                        </div>\r\n                        <CustomModel \r\n                            hideModal={hideModal} \r\n                            open={open} \r\n                            performAction={()=>{deleteUser(userId)}}\r\n                            title=\"Are you sure you want to delete this blog ?\" />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n    );\r\n}\r\n\r\nexport default ListUsers;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}